<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin - PFE FST UNA</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .dashboard-container { padding: 40px 20px; max-width: 1200px; margin: 0 auto; }
        .welcome-banner { background: linear-gradient(135deg, #0A2E5C 0%, #1E6DB6 100%); color: white; padding: 30px; border-radius: 15px; margin-bottom: 30px; }
        .btn-dashboard { padding: 12px 25px; background: #1E6DB6; color: white; border: none; border-radius: 8px; cursor: pointer; text-decoration: none; display: inline-flex; align-items: center; gap: 10px; }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="header-top" style="display: flex; justify-content: space-between; align-items: center;">
                <div style="display: flex; align-items: center; gap: 20px;">
                    <div class="logos">
                        <img src="assets/logo-una.png" alt="UNA" style="height: 50px;">
                        <img src="assets/logo-fst.png" alt="FST" style="height: 50px;">
                    </div>
                    <div>
                        <h1 style="margin: 0; font-size: 1.5rem;"><i class="fas fa-user-cog"></i> Tableau de bord Administrateur</h1>
                        <p style="margin: 5px 0 0 0; opacity: 0.9; font-size: 0.9rem;">Système de suivi PFE - FST UNA</p>
                    </div>
                </div>
                <div>
                    <span id="userName">Administrateur</span>
                    <button onclick="logout()" class="btn-dashboard" style="margin-left: 15px; background: #dc3545;">
                        <i class="fas fa-sign-out-alt"></i> Déconnexion
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="dashboard-container">
        <div class="welcome-banner">
            <h2 id="welcomeMessage">Bienvenue, Administrateur !</h2>
            <p>Gérez le système de suivi PFE.</p>
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
            <a href="index.html" class="btn-dashboard">
                <i class="fas fa-arrow-left"></i> Retour à l'accueil
            </a>
        </div>
    </main>

    <script>
        function logout() {
            if (confirm('Déconnexion ?')) {
                sessionStorage.clear();
                window.location.href = 'login.html';
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const userData = sessionStorage.getItem('pfe_user');
            if (userData) {
                try {
                    const user = JSON.parse(userData);
                    document.getElementById('userName').textContent = user.name;
                    document.getElementById('welcomeMessage').textContent = `Bienvenue, ${user.name} !`;
                } catch (error) {
                    console.error(error);
                }
            } else {
                window.location.href = 'login.html';
            }
        });
    </script>
    <script src="js/global-auth.js"></script>
<script>
    // Afficher le nom de l'utilisateur
    document.addEventListener('DOMContentLoaded', function() {
        const userData = sessionStorage.getItem('pfe_user');
        if (userData) {
            try {
                const user = JSON.parse(userData);
                const userNameElements = document.querySelectorAll('#userName, .user-name');
                userNameElements.forEach(el => {
                    if (el.id === 'userName' || el.classList.contains('user-name')) {
                        el.textContent = user.name;
                    }
                });
            } catch (error) {
                console.error('Erreur:', error);
            }
        }
    });
</script>
</body>
</html>